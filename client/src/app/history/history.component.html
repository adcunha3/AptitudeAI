<div class="history-container">
  <h2>Your Mock Interview History</h2>

  <!-- Video History Section -->
  <div *ngIf="videos.length > 0; else noVideos">
    <h3>Recorded Interviews</h3>
    <div class="video-scroll-container">
      <div *ngFor="let video of videos" class="video-card">
        <h4>{{ video.filename }}</h4>
        <video [src]="video.streamUrl" controls class="video-player"></video>
        <p class="timestamp">Uploaded on: {{ video.uploadedAt | date:'medium' }}</p>
        <button class="delete-btn" (click)="deleteVideo(video.filename)">
          üóëÔ∏è Delete
        </button>
      </div>
    </div>
  </div>

  <ng-template #noVideos>
    <p>No recorded interviews found.</p>
  </ng-template>

  <hr />

  <!-- Feedback History Section -->
  <div class="feedback-history">
    <h3>Feedback History</h3>
    <div *ngIf="feedbacks.length === 0">
      <p>No feedback available yet. Complete a mock interview to see your history.</p>
    </div>
    <div *ngFor="let feedback of feedbacks" class="feedback-card">
      <h4>Question: {{ feedback.questions[0]?.questionText }}</h4>
      <p class="response-text"><strong>Your Response:</strong> {{ feedback.questions[0]?.response }}</p>
      <p><strong>Feedback:</strong> {{ feedback.questions[0]?.feedback }}</p>
      <p class="example-response"><strong>Example Response:</strong> {{ feedback.questions[0]?.example_response }}</p>
      <p class="timestamp">Date: {{ feedback.createdAt | date:'medium' }}</p>
    </div>
  </div>
</div>
